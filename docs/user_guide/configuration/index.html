<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Configuration - Sophon</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Sophon</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../installation/">Installation</a>
</li>

                    
                        
<li >
    <a href="../getting_started/">Getting Started</a>
</li>

                    
                        
<li >
    <a href="../sophon_style_python_docstrings/">Sophon Style Python Docstrings</a>
</li>

                    
                        
<li class="active">
    <a href="./">Configuration</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../about/release_notes/">Release Notes</a>
</li>

                    
                        
<li >
    <a href="../../about/license/">License</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../api/sophon/API/">API</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../sophon_style_python_docstrings/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../../about/release_notes/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#configuration">Configuration</a></li>
        
    
        <li class="main "><a href="#project-information">Project information</a></li>
        
            <li><a href="#code_dir">code_dir</a></li>
        
            <li><a href="#template_dir">template_dir</a></li>
        
            <li><a href="#build_dir">build_dir</a></li>
        
            <li><a href="#repo_url">repo_url</a></li>
        
            <li><a href="#branch">branch</a></li>
        
            <li><a href="#style">style</a></li>
        
            <li><a href="#pages">pages</a></li>
        
            <li><a href="#page">page</a></li>
        
            <li><a href="#tags">tags</a></li>
        
            <li><a href="#tag">tag</a></li>
        
            <li><a href="#classes">classes</a></li>
        
            <li><a href="#classes_with_methods">classes_with_methods</a></li>
        
            <li><a href="#functions">functions</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="configuration">Configuration</h1>
<h1 id="project-information">Project information</h1>
<p><code>sophon.yml</code> must contain following information.</p>
<h2 id="code_dir">code_dir</h2>
<p>指定您Python项目所在的文件夹。</p>
<ul>
<li>Sophon会将该目录插入到<code>sys.path</code>中，以让Python解析器能够import。</li>
<li><code>code_dir</code>支持相对路径。如果是相对路径则是相对于<code>sophon.yml</code>而言。</li>
<li>可以不指定<code>code_dir</code>，默认为<code>.</code>。</li>
</ul>
<hr />
<h2 id="template_dir">template_dir</h2>
<p>存放Markdown模板的文件夹。
模板文件就是Markdown文件，只不还包含了一些形如<code>{{tag_name}}</code>的标记。更多详细用法请看<code>tags</code>。</p>
<ul>
<li><code>template_dir</code>支持相对路径。如果是相对路径则是相对于<code>sophon.yml</code>而言。</li>
<li>可以不指定<code>template_dir</code>，默认为<code>None</code>。</li>
<li>不指定<code>template_dir</code>表示不使用模板功能，此时后续的某个文档<code>page</code>项包含了<code>template</code>项，则会报错。</li>
</ul>
<hr />
<h2 id="build_dir">build_dir</h2>
<p>生成的API文档所存放的文件夹。</p>
<ul>
<li><code>build_dir</code>支持相对路径。如果是相对路径则是相对于<code>sophon.yml</code>而言。</li>
<li>可以不指定<code>build_dir</code>，默认为<code>./api</code>，即在<code>sophon.yml</code>所在文件夹新建一个叫做<code>api</code>的文件夹来存放API文档。</li>
</ul>
<hr />
<h2 id="repo_url">repo_url</h2>
<p>指定存放了源代码的仓库，可以在API文档中为每个API生成一个链接到源代码的超链接。</p>
<ul>
<li>暂时仅支持GitHub。</li>
<li>格式为<code>https://github.com/your_user_name/your_repo</code>。</li>
<li>可以不指定<code>repo_url</code>，默认为<code>None</code>。</li>
<li>不指定<code>repo_url</code>表示不使用该功能。</li>
</ul>
<hr />
<h2 id="branch">branch</h2>
<p>指定源代码仓库上的分支。</p>
<ul>
<li>可以不指定<code>branch</code>，默认为<code>master</code>。</li>
<li>当不指定<code>repo_url</code>时，<code>branch</code>无效。</li>
</ul>
<hr />
<h2 id="style">style</h2>
<p>指定您Python代码中docstring所使用的风格。</p>
<ul>
<li>目前支持<code>sophon</code>(<code>google</code>, <code>numpy</code>即将支持)。</li>
<li>可以不指定<code>style</code>，默认为<code>sophon</code>。</li>
</ul>
<hr />
<h2 id="pages">pages</h2>
<p><code>pages</code>是一个包含了0个或多个<code>page</code>的列表，包含了所有要生成的文档。更多详细用法请看<code>page</code>。</p>
<ul>
<li>可以不指定<code>pages</code>，默认为<code>None</code>。</li>
<li>当不指定<code>pages</code>或指定了<code>pages</code>但是不包含任何<code>page</code>时，表示不生成任何文档。</li>
</ul>
<hr />
<h2 id="page">page</h2>
<p><code>page</code>表示一个生成的API Markdown文档。格式为：</p>
<pre><code class="text"># filename: /home/user/sophon.yml
build_dir: api
template_dir: templates

pages:
- page: test/aa.md
  template: bb.md
- page: cc.md
  template: test/dd.md
</code></pre>

<ul>
<li>每个<code>page</code>必须指定文件路径名，该文件路径名必须是相对路径，且是相对于<code>build_dir</code>而言。</li>
<li>在上面的例子中，Sophon会按顺序：<ul>
<li>生成路径名为<code>/home/user/api/test/aa.md</code>的API文档，
所使用的模板文件为<code>/home/user/templates/bb.md</code>。</li>
<li>生成路径名为<code>/home/user/api/cc.md</code>的API文档，
所使用的模板文件为<code>/home/user/templates/test/dd.md</code>。</li>
</ul>
</li>
</ul>
<hr />
<h2 id="tags">tags</h2>
<p><code>tags</code>是一个包含了0个或多个<code>tag</code>的列表，也是<code>page</code>的成员。更多详细用法请看<code>tag</code>。</p>
<ul>
<li>可以不指定<code>tags</code>，默认为<code>None</code>。</li>
<li>当不指定<code>tags</code>或指定了<code>tags</code>但是不包含任何<code>tag</code>时，Sophon不会向该<code>tags</code>所属<code>page</code>文件中生成任何Markdown text。</li>
</ul>
<hr />
<h2 id="tag">tag</h2>
<p><code>tag</code>表示一个标记，通常结合模板文件来使用，表示生成的API Markdown text应该插入到模板文件的哪个地方。</p>
<p>举个例子,假设模板文件<code>/home/user/templates/bb.md</code>内容为：</p>
<pre><code class="text"># Hello World

{{tag0}}

## Hello Sophon

{{tag1}}
</code></pre>

<p>配置文件为：</p>
<pre><code class="text"># filename: /home/user/sophon.yml
build_dir: api
template_dir: templates

pages:
- page: test/aa.md
  template: bb.md
  tags:
  - tag: tag0
    functions:
    - mod.func
  - tag: tag1
    classes:
    - mod.clazz
</code></pre>

<p>则运行Sophon之后：</p>
<ul>
<li>Sophon会先读取模板文件<code>/home/user/templates/bb.md</code>里的内容；</li>
<li>然后将标记<code>{{tag0}}</code>替换为函数<code>mod.func</code>的API Markdown text；</li>
<li>再将标记<code>{{tag1}}</code>替换为类<code>mod.clazz</code>的API Markdown text；</li>
<li>最后将内容写入<code>/home/user/api/test/aa.md</code>中。</li>
</ul>
<p>注意的是，以下几种情况中，该tag下包含的函数、类的API Markdown text会依次添加在文件末尾，而不是替换掉模板文件中的<code>{{tag}}</code>：</p>
<ul>
<li>配置文件中指定了一个tag，但是没有给tag名时；</li>
<li>配置文件中指定了一个tag，但是在模板文件中不存在该tag标记时；</li>
<li>配置文件中指定了一个tag，但是该tag所属的<code>page</code>没有使用模板文件时。</li>
</ul>
<p>每个tag所包含的API按照固定顺序classes-&gt;classes_with_members-&gt;functions依次生成API Markdown text。</p>
<p>另外，Sophon不会对存在于模板文件但是却没有在配置文件中指定的tag作任何处理，也就是一切以配置文件为准。</p>
<hr />
<h2 id="classes">classes</h2>
<p><code>classes</code>是一个包含多个类的包路径的列表。</p>
<p>Sophon在生成一个类的API文档时，只会选择该类的docstring来生成该类构造函数的API Markdown text，
并不包括该类的成员函数与方法。</p>
<hr />
<h2 id="classes_with_methods">classes_with_methods</h2>
<p><code>classes_with_methods</code>是一个包含多个函数的包路径的列表。</p>
<p>Sophon在生成一个类的API文档时，会生成包括构造函数在内的该类所有公有成员函数与方法的API Markdown text。</p>
<hr />
<h2 id="functions">functions</h2>
<p><code>functions</code>是一个包含多个函数的包路径的列表。</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
                <center>Copyright (c) 2016 <a href="http://www.monitor1379.com" target="blank">Zhenpeng Deng(monitor1379)</a></center>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>